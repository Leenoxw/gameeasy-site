---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

export function getStaticPaths() {
  const gamesData = [
    { 
      id: 'gta-v', title: "GTA V", image: "/gameeasy-site/images/gta5.jpg", cat: "Action / Open World", desc: "Braquages et adrénaline dans la cité de Los Santos.",
      dl: "https://pixeldrain.com/u/votre_lien_gta", // Lien vers le fichier
      min: { os: "Windows 10", cpu: "i5-2500K / AMD FX-8120", ram: "8 GB", gpu: "GTX 660 2GB", dx: "11", storage: "72 GB" },
      rec: { os: "Windows 11", cpu: "i7-4770K / Ryzen 5 1500X", ram: "16 GB", gpu: "GTX 1060 6GB", dx: "12", storage: "72 GB" }
    },
    { 
      id: 'cyberpunk-2077', title: "Cyberpunk 2077", image: "/gameeasy-site/images/cyberpunk.jpg", cat: "RPG / Sci-Fi", desc: "Devenez une légende dans la mégalopole de Night City.",
      dl: "https://pixeldrain.com/u/votre_lien_cp77",
      min: { os: "Windows 10", cpu: "i5-3570K / FX-8310", ram: "8 GB", gpu: "GTX 970 / RX 470", dx: "12", storage: "70 GB SSD" },
      rec: { os: "Windows 11", cpu: "i7-12700 / Ryzen 7 7800X", ram: "16 GB", gpu: "RTX 3060 / RX 6700 XT", dx: "12", storage: "70 GB SSD" }
    },
    { 
      id: 'elden-ring', title: "Elden Ring", image: "/gameeasy-site/images/elden-ring.jpg", cat: "Action / RPG", desc: "Explorez l'Entre-terre et devenez le Seigneur d'Elden.",
      dl: "https://pixeldrain.com/u/votre_lien_elden",
      min: { os: "Windows 10", cpu: "i5-8400 / Ryzen 3 3300X", ram: "12 GB", gpu: "GTX 1060 3GB", dx: "12", storage: "60 GB" },
      rec: { os: "Windows 11", cpu: "i7-8700K / Ryzen 5 3600X", ram: "16 GB", gpu: "GTX 1070 8GB", dx: "12", storage: "60 GB" }
    },
    { 
      id: 'black-myth-wukong', title: "Black Myth: Wukong", image: "/gameeasy-site/images/wukong.jpg", cat: "Action / RPG", desc: "L'épopée du Roi Singe.",
      dl: "https://pixeldrain.com/u/votre_lien_wukong",
      min: { os: "Windows 10", cpu: "i5-8400 / Ryzen 5 1600", ram: "16 GB", gpu: "GTX 1060 6GB", dx: "12", storage: "130 GB SSD" },
      rec: { os: "Windows 11", cpu: "i7-9700 / Ryzen 5 5500", ram: "16 GB", gpu: "RTX 2060 / RX 5700 XT", dx: "12", storage: "130 GB SSD" }
    }
    // Tu peux continuer à ajouter tes autres jeux ici de la même façon...
  ];

  return gamesData.map(game => ({
    params: { id: game.id },
    props: { ...game }
  }));
}

const { title, cat, image, desc, min, rec, dl } = Astro.props;
---

<Layout title={`${title} - GAMEASY`}>
  <Header />
  
  <main class="detail-page">
    <div class="container">
      <a href="/gameeasy-site/cracks" class="back-link">← Retour au catalogue</a>
      
      <section class="hero-section">
        <div class="image-wrapper">
          <img src={image} alt={title} class="hero-image" />
        </div>
        
        <div class="hero-info">
          <span class="category-tag">{cat}</span>
          <h1>{title}</h1>
          <p class="description">{desc}</p>
          
          <div class="dl-area">
              <a href={`/gameeasy-site/download?url=${dl}`} class="download-button">
                TÉLÉCHARGER LE CRACK (DIRECT)
              </a>
              <p class="file-info">Fichier : .zip / .exe • Testé sans virus • MDP: 123</p>
          </div>
        </div>
      </section>

      <section class="system-config">
        <div class="config-header">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#8b5cf6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="14" x="2" y="3" rx="2"/><line x1="8" x2="16" y1="21" y2="21"/><line x1="12" x2="12" y1="17" y2="21"/></svg>
            <h2>systemConfig</h2>
        </div>

        <div class="config-grid">
            <div class="config-box minimal">
                <h3><span class="dot">●</span> Configuration minimale</h3>
                <ul>
                    <li><strong>OS:</strong> {min.os}</li>
                    <li><strong>CPU:</strong> {min.cpu}</li>
                    <li><strong>RAM:</strong> {min.ram}</li>
                    <li><strong>GPU:</strong> {min.gpu}</li>
                    <li><strong>DirectX:</strong> {min.dx}</li>
                    <li><strong>Stockage:</strong> {min.storage}</li>
                </ul>
            </div>

            <div class="config-box recommended">
                <h3><span class="dot">●</span> Configuration recommandée</h3>
                <ul>
                    <li><strong>OS:</strong> {rec.os}</li>
                    <li><strong>CPU:</strong> {rec.cpu}</li>
                    <li><strong>RAM:</strong> {rec.ram}</li>
                    <li><strong>GPU:</strong> {rec.gpu}</li>
                    <li><strong>DirectX:</strong> {rec.dx}</li>
                    <li><strong>Stockage:</strong> {rec.storage}</li>
                </ul>
            </div>
        </div>
      </section>
    </div>
  </main>

  <Footer />
</Layout>

<style>
  .detail-page { padding: 140px 20px 80px; background: #060612; min-height: 100vh; color: white; }
  .container { max-width: 1100px; margin: 0 auto; }
  
  .back-link { color: #8b5cf6; text-decoration: none; display: inline-block; margin-bottom: 30px; font-weight: 600; transition: 0.3s; }
  .back-link:hover { color: #fff; transform: translateX(-5px); }

  /* Hero Layout */
  .hero-section { 
    display: grid; 
    grid-template-columns: 1fr 1fr; 
    gap: 40px; 
    margin-bottom: 60px; 
    background: #11111e; 
    padding: 30px; 
    border-radius: 24px; 
    border: 1px solid #1e1e2e; 
  }

  .hero-image { width: 100%; border-radius: 15px; border: 1px solid rgba(139, 92, 246, 0.2); }
  
  .category-tag { color: #8b5cf6; font-weight: 800; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; }
  h1 { font-size: 4rem; font-weight: 900; margin: 10px 0; line-height: 1; }
  .description { color: #a1a1aa; line-height: 1.6; font-size: 1.1rem; margin-bottom: 30px; }

  /* Bouton & Download Area */
  .dl-area { background: rgba(0,0,0,0.2); padding: 20px; border-radius: 15px; border: 1px solid rgba(139, 92, 246, 0.1); }
  
  .download-button { 
    display: block;
    width: 100%;
    padding: 20px;
    background: #8b5cf6;
    color: white;
    text-align: center;
    text-decoration: none;
    font-weight: 900;
    border-radius: 12px;
    font-size: 1.1rem;
    transition: 0.4s;
    box-shadow: 0 10px 20px rgba(139, 92, 246, 0.2);
  }
  
  .download-button:hover { 
    background: #7c3aed; 
    transform: translateY(-3px);
    box-shadow: 0 15px 30px rgba(139, 92, 246, 0.4);
  }

  .file-info { text-align: center; color: #444; font-size: 0.8rem; margin-top: 12px; font-weight: 600; }

  /* Config System UI */
  .system-config { background: #0d0d0d; border-radius: 20px; padding: 40px; border: 1px solid #1a1a1a; }
  .config-header { display: flex; align-items: center; gap: 15px; margin-bottom: 30px; }
  .config-header h2 { font-family: monospace; font-size: 1.8rem; letter-spacing: -1px; }

  .config-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; }
  .config-box { background: rgba(255,255,255,0.02); padding: 25px; border-radius: 15px; border: 1px solid #1a1a1a; }
  
  .dot { margin-right: 10px; }
  .minimal h3 { color: #ff6b6b; margin-bottom: 20px; }
  .recommended h3 { color: #51cf66; margin-bottom: 20px; }

  ul { list-style: none; padding: 0; }
  li { margin-bottom: 12px; color: #a1a1aa; font-size: 0.9rem; border-bottom: 1px solid rgba(255,255,255,0.03); padding-bottom: 8px; }
  li strong { color: #fff; margin-right: 5px; }

  @media (max-width: 900px) {
    .hero-section, .config-grid { grid-template-columns: 1fr; }
    h1 { font-size: 3rem; }
  }
</style>