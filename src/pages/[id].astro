---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

export function getStaticPaths() {
  const commonGames = [
    { 
      id: 'gta-v', title: "GTA V", image: "/gameeasy-site/images/gta5.jpg", cat: "Action", desc: "Braquages et monde ouvert.",
      min: { os: "Windows 10", cpu: "Core i5-2500K", ram: "8 GB", gpu: "GTX 660", dx: "11", storage: "72 GB" },
      rec: { os: "Windows 11", cpu: "Core i7-4770K", ram: "16 GB", gpu: "GTX 1060", dx: "12", storage: "72 GB" }
    },
    { 
      id: 'cyberpunk-2077', title: "Cyberpunk 2077", image: "/gameeasy-site/images/cyberpunk.jpg", cat: "RPG", desc: "Futur dystopique.",
      min: { os: "Windows 10", cpu: "Core i5-3570K", ram: "8 GB", gpu: "GTX 970", dx: "12", storage: "70 GB (SSD)" },
      rec: { os: "Windows 11", cpu: "Core i7-12700", ram: "16 GB", gpu: "RTX 3060", dx: "12", storage: "70 GB (SSD)" }
    },
    // ... Ajoute les autres jeux ici sur le même modèle
  ];

  return commonGames.map(game => ({
    params: { id: game.id },
    props: { ...game }
  }));
}

const { title, cat, image, desc, min, rec } = Astro.props;
---

<Layout title={`${title} - GameEasy`}>
  <Header />
  <main class="detail-page">
    <div class="container">
      <a href="/gameeasy-site/cracks" class="back-link">← Retour au catalogue</a>
      
      <section class="hero-section">
        <img src={image} alt={title} class="hero-image" />
        <div class="hero-info">
          <span class="category-tag">{cat}</span>
          <h1>{title}</h1>
          <p class="description">{desc}</p>
          <button class="download-button">TÉLÉCHARGER LE CRACK</button>
        </div>
      </section>

      <section class="system-config">
        <div class="config-header">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="monitor-icon"><rect width="20" height="14" x="2" y="3" rx="2"/><line x1="8" x2="16" y1="21" y2="21"/><line x1="12" x2="12" y1="17" y2="21"/></svg>
            <h2>systemConfig</h2>
        </div>

        <div class="config-grid">
            <div class="config-box minimal">
                <h3><span class="dot">●</span> Configuration minimale</h3>
                <p class="subtitle">Minimum:</p>
                <ul>
                    <li>Requires a 64-bit processor and operating system</li>
                    <li><strong>OS:</strong> {min.os}</li>
                    <li><strong>Processor:</strong> {min.cpu} or equivalent</li>
                    <li><strong>Memory:</strong> {min.ram} RAM</li>
                    <li><strong>Graphics:</strong> {min.gpu} or equivalent</li>
                    <li><strong>DirectX:</strong> Version {min.dx}</li>
                    <li><strong>Storage:</strong> {min.storage} available space</li>
                </ul>
            </div>

            <div class="config-box recommended">
                <h3><span class="dot">●</span> Configuration recommandée</h3>
                <p class="subtitle">Recommended:</p>
                <ul>
                    <li>Requires a 64-bit processor and operating system</li>
                    <li><strong>OS:</strong> {rec.os}</li>
                    <li><strong>Processor:</strong> {rec.cpu} or equivalent</li>
                    <li><strong>Memory:</strong> {rec.ram} RAM</li>
                    <li><strong>Graphics:</strong> {rec.gpu} or equivalent</li>
                    <li><strong>DirectX:</strong> Version {rec.dx}</li>
                    <li><strong>Storage:</strong> {rec.storage} available space</li>
                </ul>
            </div>
        </div>
      </section>
    </div>
  </main>
  <Footer />
</Layout>

<style>
  .detail-page { padding: 120px 20px 60px; background: #060612; min-height: 100vh; color: white; font-family: sans-serif; }
  .container { max-width: 1000px; margin: 0 auto; }
  .back-link { color: #8b5cf6; text-decoration: none; display: block; margin-bottom: 20px; font-weight: 500; }

  /* Hero Section */
  .hero-section { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; margin-bottom: 60px; }
  .hero-image { width: 100%; border-radius: 12px; border: 1px solid #1e1e2e; }
  .category-tag { color: #8b5cf6; font-weight: bold; font-size: 0.9rem; }
  h1 { font-size: 3rem; margin: 10px 0; }
  .description { color: #a1a1aa; line-height: 1.6; margin-bottom: 30px; }
  .download-button { background: #8b5cf6; color: white; border: none; padding: 15px 30px; border-radius: 8px; font-weight: bold; cursor: pointer; width: 100%; }

  /* Design SystemConfig (Inspiré de ton image) */
  .system-config {
    background: #0d0d0d;
    border-radius: 16px;
    padding: 30px;
    border: 1px solid #1a1a1a;
  }

  .config-header { display: flex; align-items: center; gap: 10px; margin-bottom: 25px; }
  .config-header h2 { font-size: 1.5rem; font-family: monospace; }
  .monitor-icon { color: #a1a1aa; }

  .config-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }

  .config-box {
    background: #111111;
    border-radius: 12px;
    padding: 25px;
    border: 1px solid transparent;
  }

  /* Couleurs spécifiques par colonne */
  .minimal { border-color: rgba(255, 107, 107, 0.1); }
  .minimal h3 { color: #ff6b6b; }
  .minimal .dot { color: #ff6b6b; margin-right: 8px; }

  .recommended { border-color: rgba(81, 207, 102, 0.1); }
  .recommended h3 { color: #51cf66; }
  .recommended .dot { color: #51cf66; margin-right: 8px; }

  .subtitle { color: #ffffff; font-weight: bold; margin: 15px 0 10px 0; }

  ul { list-style: none; padding: 0; }
  li { 
    color: #ced4da; 
    font-size: 0.9rem; 
    margin-bottom: 8px; 
    line-height: 1.4;
    position: relative;
    padding-left: 15px;
  }
  li::before {
    content: "•";
    position: absolute;
    left: 0;
    color: #495057;
  }
  li strong { color: #ffffff; }

  /* Responsive */
  @media (max-width: 800px) {
    .hero-section, .config-grid { grid-template-columns: 1fr; }
    h1 { font-size: 2.2rem; }
  }
</style>