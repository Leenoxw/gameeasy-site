---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

export function getStaticPaths() {
  const commonGames = [
    { id: 'gta-v', title: "GTA V", image: "/gameeasy-site/images/gta5.jpg", cat: "Action", desc: "Braquages et monde ouvert.", min: "i5-2500K / 8GB / GTX 660", rec: "i7-4770K / 16GB / GTX 1060" },
    { id: 'cyberpunk-2077', title: "Cyberpunk 2077", image: "/gameeasy-site/images/cyberpunk.jpg", cat: "RPG", desc: "Futur dystopique.", min: "i5-3570K / 8GB / GTX 970", rec: "i7-12700 / 16GB / RTX 3060" },
    { id: 'elden-ring', title: "Elden Ring", image: "/gameeasy-site/images/elden-ring.jpg", cat: "RPG", desc: "Action RPG épique.", min: "i5-8400 / 12GB / GTX 1060", rec: "i7-8700K / 16GB / GTX 1070" },
    { id: 'red-dead-redemption-2', title: "Red Dead Redemption 2", image: "/gameeasy-site/images/rdr2.jpg", cat: "Western", desc: "Épopée sauvage.", min: "i5-2500K / 8GB / GTX 770", rec: "i7-4770K / 12GB / GTX 1060" },
    { id: 'spiderman-2', title: "Spider-Man 2", image: "/gameeasy-site/images/spiderman2.jpg", cat: "Action", desc: "Incarnez Peter et Miles.", min: "i5-8400 / 16GB / RTX 2060", rec: "i7-12700 / 32GB / RTX 3070" },
    { id: 'hogwarts-legacy', title: "Hogwarts Legacy", image: "/gameeasy-site/images/hogwarts.jpg", cat: "Magie", desc: "Poudlard au 19ème siècle.", min: "i5-6600 / 16GB / GTX 960", rec: "i7-8700 / 16GB / RTX 2060" },
    { id: 'forza-horizon-5', title: "Forza Horizon 5", image: "/gameeasy-site/images/forza5.jpg", cat: "Course", desc: "Courses au Mexique.", min: "i5-4460 / 8GB / GTX 760", rec: "i7-10700 / 16GB / RTX 3060" },
    { id: 'god-of-war-ragnarok', title: "God of War Ragnarök", image: "/gameeasy-site/images/gow-ragnarok.jpg", cat: "Action", desc: "La fin des mondes nordiques.", min: "i5-4670 / 8GB / GTX 1060", rec: "i7-7700 / 16GB / RTX 3060" },
    { id: 'the-witcher-3', title: "The Witcher 3", image: "/gameeasy-site/images/witcher3.jpg", cat: "RPG", desc: "La traque sauvage.", min: "i5-2500K / 6GB / GTX 660", rec: "i7-3770 / 8GB / GTX 770" },
    { id: 'hades-2', title: "Hades II", image: "/gameeasy-site/images/hades2.jpg", cat: "Roguelike", desc: "Affrontez Cronos.", min: "Dual Core / 4GB / GTX 950", rec: "Quad Core / 8GB / RTX 2060" },
    { id: 'hollow-knight-silksong', title: "Silksong", image: "/gameeasy-site/images/silksong.jpg", cat: "Metroidvania", desc: "Le voyage de Hornet.", min: "i3-3220 / 4GB / GTX 660", rec: "i5-6600 / 8GB / GTX 960" },
    { id: 'manor-lords', title: "Manor Lords", image: "/gameeasy-site/images/manor-lords.jpg", cat: "Stratégie", desc: "Construction médiévale.", min: "i5-4670 / 8GB / GTX 1050", rec: "i5-7600 / 16GB / GTX 1060" },
    { id: 'palworld', title: "Palworld", image: "/gameeasy-site/images/palworld.jpg", cat: "Survie", desc: "Pokémon avec des flingues.", min: "i5-3570 / 16GB / GTX 1050", rec: "i9-9900 / 32GB / RTX 2070" },
    { id: 'lethal-company', title: "Lethal Company", image: "/gameeasy-site/images/lethal-company.jpg", cat: "Horreur", desc: "Collectez pour la Compagnie.", min: "i5-7400 / 8GB / GTX 1050", rec: "i7-9700 / 16GB / GTX 1660" },
    { id: 'black-myth-wukong', title: "Wukong", image: "/gameeasy-site/images/wukong.jpg", cat: "Action", desc: "Le Roi Singe.", min: "i5-8400 / 16GB / GTX 1060", rec: "i7-9700 / 16GB / RTX 2060" },
    { id: 'stardew-valley', title: "Stardew Valley", image: "/gameeasy-site/images/stardew.jpg", cat: "Ferme", desc: "La vie à la campagne.", min: "2GHz / 2GB / 256MB VRAM", rec: "3GHz / 4GB / 1GB VRAM" },
    { id: 'schedules', title: "Schedules", image: "/gameeasy-site/images/schedules.jpg", cat: "Horreur", desc: "Horreur indie.", min: "i3 / 4GB / GTX 750", rec: "i5 / 8GB / GTX 1050" },
    { id: 'are-we-there-yet', title: "Are We There Yet?", image: "/gameeasy-site/images/rv-there-yet.jpg", cat: "Indie", desc: "Roadtrip étrange.", min: "Dual Core / 4GB / Intégré", rec: "Quad Core / 8GB / GTX 1050" },
    { id: 'buckshot-roulette', title: "Buckshot Roulette", image: "/gameeasy-site/images/buckshot.jpg", cat: "Stratégie", desc: "Jouez votre vie.", min: "Intel Core / 2GB / Dédié", rec: "Intel Core / 4GB / GTX 660" },
    { id: 'chained-together', title: "Chained Together", image: "/gameeasy-site/images/chained-together.jpg", cat: "Coop", desc: "Grimpez ensemble.", min: "i5-6600 / 8GB / GTX 1050", rec: "i7-8700 / 16GB / GTX 1660" },
    { id: 'phasmophobia', title: "Phasmophobia", image: "/gameeasy-site/images/phasmophobia.jpg", cat: "Horreur", desc: "Chasse aux fantômes.", min: "i5-4590 / 8GB / GTX 970", rec: "i7-6700 / 16GB / GTX 1070" }
  ];

  return commonGames.map(game => ({
    params: { id: game.id },
    props: { 
      title: game.title, 
      category: game.cat, 
      image: game.image, 
      desc: game.desc,
      min: game.min,
      rec: game.rec
    }
  }));
}

const { title, category, image, desc, min, rec } = Astro.props;
---

<Layout title={`${title} - Télécharger`}>
  <Header />
  <main class="page-padding">
    <div class="container">
      <a href="/gameeasy-site/cracks" class="back">← Retour</a>
      <div class="hero">
        <img src={image} alt={title} />
        <div class="hero-text">
          <span class="badge">{category}</span>
          <h1>{title}</h1>
          <p>{desc}</p>
          <button class="dl">TÉLÉCHARGER</button>
        </div>
      </div>

      <div class="configs">
        <div class="conf-box">
          <h3>MINIMUM</h3>
          <p>{min}</p>
        </div>
        <div class="conf-box rec">
          <h3>RECOMMANDÉE</h3>
          <p>{rec}</p>
        </div>
      </div>
    </div>
  </main>
  <Footer />
</Layout>

<style>
  .page-padding { padding: 120px 20px; background: #060612; min-height: 100vh; color: white; }
  .container { max-width: 900px; margin: 0 auto; }
  .back { color: #8b5cf6; text-decoration: none; display: block; margin-bottom: 20px; }
  .hero { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; background: #11111e; padding: 30px; border-radius: 15px; }
  .hero img { width: 100%; border-radius: 10px; }
  .badge { background: #8b5cf6; padding: 4px 10px; border-radius: 5px; font-size: 0.8rem; }
  h1 { font-size: 2.5rem; margin: 15px 0; }
  .dl { width: 100%; background: #8b5cf6; color: white; border: none; padding: 15px; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 20px; }
  
  .configs { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px; }
  .conf-box { background: #11111e; padding: 20px; border-radius: 10px; border: 1px solid #1e1e2e; }
  .conf-box.rec { border-color: #8b5cf6; }
  h3 { color: #8b5cf6; margin-bottom: 10px; font-size: 0.9rem; }
  p { color: #a1a1aa; font-size: 0.9rem; }

  @media (max-width: 700px) { .hero, .configs { grid-template-columns: 1fr; } }
</style>